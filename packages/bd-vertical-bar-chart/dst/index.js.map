{"version":3,"file":"index.js","sources":["../.tmp/buildOutput/packages/bd-vertical-bar-chart/.tmp/srcInlined/d3VerticalBarChart/helpers/verticalBarChartSelectionType.js","../.tmp/buildOutput/packages/bd-vertical-bar-chart/.tmp/srcInlined/d3VerticalBarChart/helpers/verticalBarChartClasses.js","../.tmp/buildOutput/packages/bd-vertical-bar-chart/.tmp/srcInlined/d3VerticalBarChart/helpers/bar-positioning-data.js","../.tmp/buildOutput/packages/bd-vertical-bar-chart/.tmp/srcInlined/d3VerticalBarChart/helpers/verticalBarChartSelectionManager.js","../.tmp/buildOutput/packages/bd-vertical-bar-chart/.tmp/srcInlined/d3VerticalBarChart/verticalBarChartDefaultValues.js","../.tmp/buildOutput/packages/bd-vertical-bar-chart/.tmp/srcInlined/d3VerticalBarChart/renderers/barRenderer.js","../.tmp/buildOutput/packages/bd-vertical-bar-chart/.tmp/srcInlined/d3VerticalBarChart/renderers/editBarLabelRenderer.js","../.tmp/buildOutput/packages/bd-vertical-bar-chart/.tmp/srcInlined/d3VerticalBarChart/verticalBarChartRenderComposition.js","../.tmp/buildOutput/packages/bd-vertical-bar-chart/.tmp/srcInlined/d3VerticalBarChart/renderConfig/verticalBarChartRenderConfig.js","../.tmp/buildOutput/packages/bd-vertical-bar-chart/.tmp/srcInlined/d3VerticalBarChart/d3VerticalBarChart.js","../.tmp/buildOutput/packages/bd-vertical-bar-chart/.tmp/srcInlined/d3VerticalBarChart/helpers/barTemplatePositionStrategy.js","../.tmp/buildOutput/packages/bd-vertical-bar-chart/.tmp/srcInlined/vertical-bar-chart.component.js","../.tmp/buildOutput/packages/bd-vertical-bar-chart/.tmp/srcInlined/vertical-bar-chart.module.js","../.tmp/buildOutput/packages/bd-vertical-bar-chart/.tmp/srcInlined/index.js"],"sourcesContent":["/**\n * the way points can be selected on the chart\n */\n/**\n * the way points can be selected on the chart\n */\nexport var BdVerticalBarChartSelectionType;\n/**\n * the way points can be selected on the chart\n */\n(function (BdVerticalBarChartSelectionType) {\n    BdVerticalBarChartSelectionType[\"None\"] = \"none\";\n    BdVerticalBarChartSelectionType[\"BarSelection\"] = \"barSelection\";\n})(BdVerticalBarChartSelectionType || (BdVerticalBarChartSelectionType = {}));\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVydGljYWxCYXJDaGFydFNlbGVjdGlvblR5cGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9zcmNJbmxpbmVkL2QzVmVydGljYWxCYXJDaGFydC9oZWxwZXJzL3ZlcnRpY2FsQmFyQ2hhcnRTZWxlY3Rpb25UeXBlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztHQUVHOzs7O0FBQ0gsTUFBTSxDQUFOLElBQVksK0JBR1g7Ozs7QUFIRCxXQUFZLCtCQUErQjtJQUN2QyxnREFBYSxDQUFBO0lBQ2IsZ0VBQTZCLENBQUE7R0FGckIsK0JBQStCLEtBQS9CLCtCQUErQixRQUcxQyJ9","/**\n * these is just a helper class to define and build\n * css classes in one place\n */\nvar BdVerticalBarChartClasses = /** @class */ (function () {\n    function BdVerticalBarChartClasses() {\n    }\n    BdVerticalBarChartClasses.barClass = 'ng2-c-bar-chart__bar';\n    BdVerticalBarChartClasses.colorClass = 'ng2-c-chart-color--fill-';\n    BdVerticalBarChartClasses.draggerSelectionOverlayClass = 'ng2-c-chart__selection--overlay';\n    BdVerticalBarChartClasses.selectedClass = 'ng2-c-bar-chart__fake-bar-border';\n    BdVerticalBarChartClasses.draggerArrowClass = 'ng2-c-chart__dragger--arrow';\n    BdVerticalBarChartClasses.draggerLineClass = 'ng2-c-chart__dragger--line';\n    BdVerticalBarChartClasses.areaClass = 'area';\n    BdVerticalBarChartClasses.lineClass = 'line';\n    return BdVerticalBarChartClasses;\n}());\nexport { BdVerticalBarChartClasses };\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVydGljYWxCYXJDaGFydENsYXNzZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9zcmNJbmxpbmVkL2QzVmVydGljYWxCYXJDaGFydC9oZWxwZXJzL3ZlcnRpY2FsQmFyQ2hhcnRDbGFzc2VzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7eUNBS3VDLHNCQUFzQjsyQ0FDcEIsMEJBQTBCOzZEQUNSLGlDQUFpQzs4Q0FDaEQsa0NBQWtDO2tEQUM5Qiw2QkFBNkI7aURBQzlCLDRCQUE0QjswQ0FDbkMsTUFBTTswQ0FDTixNQUFNO29DQVo5Qzs7U0FJYSx5QkFBeUIifQ==","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { BasePositioningData } from '@delen/bd-chart-core';\nvar BarPositioningData = /** @class */ (function (_super) {\n    __extends(BarPositioningData, _super);\n    function BarPositioningData(position, dataPoint, isOnLeftSideOfBar, container) {\n        var _this = _super.call(this, position, dataPoint) || this;\n        _this.position = position;\n        _this.dataPoint = dataPoint;\n        _this.isOnLeftSideOfBar = isOnLeftSideOfBar;\n        _this.container = container;\n        return _this;\n    }\n    return BarPositioningData;\n}(BasePositioningData));\nexport { BarPositioningData };\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFyLXBvc2l0aW9uaW5nLWRhdGEuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9zcmNJbmxpbmVkL2QzVmVydGljYWxCYXJDaGFydC9oZWxwZXJzL2Jhci1wb3NpdGlvbmluZy1kYXRhLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxPQUFPLEVBQUUsbUJBQW1CLEVBQThCLE1BQU0sc0JBQXNCLENBQUM7QUFFdkYsSUFBQTtJQUF3QyxzQ0FBbUI7SUFDdkQsNEJBQ1csUUFBdUIsRUFDdkIsU0FBc0IsRUFDdEIsaUJBQTBCLEVBQzFCLFNBQWtCO1FBSjdCLFlBTUksa0JBQU0sUUFBUSxFQUFFLFNBQVMsQ0FBQyxTQUM3QjtRQU5VLGNBQVEsR0FBUixRQUFRLENBQWU7UUFDdkIsZUFBUyxHQUFULFNBQVMsQ0FBYTtRQUN0Qix1QkFBaUIsR0FBakIsaUJBQWlCLENBQVM7UUFDMUIsZUFBUyxHQUFULFNBQVMsQ0FBUzs7S0FHNUI7NkJBVkw7RUFFd0MsbUJBQW1CLEVBUzFELENBQUE7QUFURCw4QkFTQyJ9","import { mouse } from 'd3-selection';\nimport { Subject } from 'rxjs/Subject';\nimport { BdDOMRect } from '@delen/bd-utilities';\nimport { BdAxisDirection, BdCoordinates } from '@delen/bd-chart-core';\nimport { BdVerticalBarChartClasses } from './verticalBarChartClasses';\nimport { BarPositioningData } from './bar-positioning-data';\nvar BdVerticalBarChartSelectionManager = /** @class */ (function () {\n    function BdVerticalBarChartSelectionManager(svgSelection, svgElement, renderConfig, verticalBarData, axisSvgQueries, container) {\n        var _this = this;\n        this.svgSelection = svgSelection;\n        this.svgElement = svgElement;\n        this.renderConfig = renderConfig;\n        this.verticalBarData = verticalBarData;\n        this.axisSvgQueries = axisSvgQueries;\n        this.container = container;\n        this.closestPointHandler = function () { return _this.getClosestDataPoint(); };\n        this.verticalBarChartTemplateSubject = new Subject();\n    }\n    Object.defineProperty(BdVerticalBarChartSelectionManager.prototype, \"onUpdateVerticalBarChartTemplate\", {\n        get: function () {\n            return this.verticalBarChartTemplateSubject;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BdVerticalBarChartSelectionManager.prototype, \"selectionAreaBoundingRect\", {\n        get: function () {\n            return BdDOMRect.fromClientRect(this.svgElement.getBoundingClientRect());\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BdVerticalBarChartSelectionManager.prototype.init = function () {\n        // draw an overlay over the graph with event handlers attached to make selections\n        this.selectionOverlay = this.svgSelection\n            .append('rect')\n            .attr('class', BdVerticalBarChartClasses.draggerSelectionOverlayClass)\n            .attr('width', this.renderConfig.size.width)\n            .attr('height', this.renderConfig.size.height + this.renderConfig.margins.bottom)\n            .on('touchmove', this.closestPointHandler)\n            .on('mousemove', this.closestPointHandler);\n    };\n    BdVerticalBarChartSelectionManager.prototype.selectDataPoint = function (dataPoint) {\n        // make a render react to the selection of a datapoint\n        var bar = this.getBarForDataPoint(dataPoint);\n        if (bar) {\n            this.verticalBarChartTemplateSubject.next(this.getScreenCoords(dataPoint, bar));\n        }\n    };\n    BdVerticalBarChartSelectionManager.prototype.destroy = function () {\n        // d3 way of removing eventhandlers\n        if (this.selectionOverlay) {\n            this.selectionOverlay.on('touchmove', null);\n            this.selectionOverlay.on('mousemove', null);\n            this.selectionOverlay.on(this.bulletEventName, null);\n        }\n        // unsubscribe everything\n        this.verticalBarChartTemplateSubject.unsubscribe();\n    };\n    /**\n     * https://www.sitepoint.com/how-to-translate-from-dom-to-svg-coordinates-and-back-again/\n     * convert datapoint to svg coordinates and then\n     * convert from svg coordinate system to screen position\n     * we need these coordinates to position the verticalBar-chart template\n     */\n    /**\n         * https://www.sitepoint.com/how-to-translate-from-dom-to-svg-coordinates-and-back-again/\n         * convert datapoint to svg coordinates and then\n         * convert from svg coordinate system to screen position\n         * we need these coordinates to position the verticalBar-chart template\n         */\n    BdVerticalBarChartSelectionManager.prototype.getScreenCoords = /**\n         * https://www.sitepoint.com/how-to-translate-from-dom-to-svg-coordinates-and-back-again/\n         * convert datapoint to svg coordinates and then\n         * convert from svg coordinate system to screen position\n         * we need these coordinates to position the verticalBar-chart template\n         */\n    function (dataPoint, bar) {\n        var svgPoint = this.svgElement.createSVGPoint();\n        // convert the datapoint value to svg coordinates\n        svgPoint.x = this.renderConfig.xRenderConfig.scale(dataPoint.x);\n        svgPoint.y = this.renderConfig.yRenderConfig.scale(dataPoint.y);\n        var barHeight = bar.getAttribute('height');\n        svgPoint.y += barHeight * 0.5;\n        var dataMiddle = this.renderConfig.xRenderConfig.min + ((this.renderConfig.xRenderConfig.max - this.renderConfig.xRenderConfig.min) * 0.5);\n        var isOnLeftSideOfBar = dataPoint.x >= dataMiddle;\n        if (!isOnLeftSideOfBar) {\n            svgPoint.x += parseInt(bar.getAttribute('width'));\n        }\n        // transform the svg coordinates using the transformationmatrix of the bullet to get screen coordinates\n        var screenPoint = svgPoint.matrixTransform(bar.getCTM());\n        return new BarPositioningData(new BdCoordinates(screenPoint.x, screenPoint.y), dataPoint, isOnLeftSideOfBar, this.container);\n    };\n    /**\n     * find (and select) the closest data point to the mouse position\n     */\n    /**\n         * find (and select) the closest data point to the mouse position\n         */\n    BdVerticalBarChartSelectionManager.prototype.getClosestDataPoint = /**\n         * find (and select) the closest data point to the mouse position\n         */\n    function () {\n        var xAxisElement = this.axisSvgQueries.getAxis(BdAxisDirection.X).node();\n        // get the mouse coordinates\n        var mouseCoordinates = mouse(xAxisElement); // d3.mouse(container)\n        var xCoordinateMouse = mouseCoordinates[0];\n        // get all the bars\n        var bars = this.svgSelection.selectAll('g > rect.ng2-c-bar-chart__bar').nodes();\n        var fakeBarBorders = this.svgSelection.selectAll('g > rect.ng2-c-bar-chart__fake-bar-border').nodes();\n        var smallestDistanceBetweenBarAndMouse = Number.MAX_VALUE;\n        var smallestDistanceBar = bars[0];\n        var smallestDistanceBarIndex = 0;\n        var smallestDistanceBarDataPoint = { data: null, x: 0, y: 0 };\n        for (var i = 0; i < (bars.length); i++) {\n            // set all the selected bars attr to hidden\n            fakeBarBorders[i].setAttribute('visibility', 'hidden');\n            var bar = bars[i];\n            // get the data attribute from the bar\n            var dataPointFromAttr = bar.getAttribute('data-point');\n            var dataPoint = { data: null, x: 0, y: 0 };\n            if (dataPointFromAttr !== null) {\n                var dataPointsFromAttr = dataPointFromAttr.split('_');\n                if (dataPointsFromAttr[1] === '0') {\n                    dataPoint.x = 0;\n                    dataPoint.y = 0;\n                    continue;\n                }\n                dataPoint.x = Number(dataPointsFromAttr[0]);\n                dataPoint.y = parseFloat(dataPointsFromAttr[1]);\n            }\n            // get the width of a bar\n            var barWidth = bar.getAttribute('width');\n            // get the x coordinates of the center of the bars\n            var barTopLeftCornerXCoordinate = bar.getAttribute('x');\n            var barCenterXCoordinate = Number(barTopLeftCornerXCoordinate) + (barWidth / 2);\n            // calculate the distance between bar and the xCoordinateMouse\n            var distanceBetweenBarAndMouse = 0;\n            // what is the biggest value barCenterXCoordinate or xCoordinateMouse?\n            if (barCenterXCoordinate <= xCoordinateMouse) {\n                distanceBetweenBarAndMouse = xCoordinateMouse - barCenterXCoordinate;\n            }\n            else {\n                distanceBetweenBarAndMouse = barCenterXCoordinate - xCoordinateMouse;\n            }\n            // get the bar closest to the mouse coordinates\n            if (distanceBetweenBarAndMouse < smallestDistanceBetweenBarAndMouse) {\n                smallestDistanceBetweenBarAndMouse = distanceBetweenBarAndMouse;\n                smallestDistanceBarIndex = i;\n                smallestDistanceBarDataPoint = dataPoint;\n                smallestDistanceBar = bar;\n            }\n        }\n        // the bar with the least distance should be selected\n        fakeBarBorders[smallestDistanceBarIndex].setAttribute('visibility', 'visible');\n        var dataPointFromArray = this.verticalBarData.find(function (pointToFind) { return pointToFind.x === smallestDistanceBarDataPoint.x && pointToFind.y === smallestDistanceBarDataPoint.y; });\n        if (dataPointFromArray) {\n            this.verticalBarChartTemplateSubject.next(this.getScreenCoords(dataPointFromArray, smallestDistanceBar));\n        }\n    };\n    BdVerticalBarChartSelectionManager.prototype.getBarForDataPoint = function (dataPoint) {\n        var bars = this.svgSelection.selectAll('g > .ng2-c-bar-chart__bar').nodes();\n        var fakeBarBorders = this.svgSelection.selectAll('g > rect.ng2-c-bar-chart__fake-bar-border').nodes();\n        for (var i = 0; i < fakeBarBorders.length; i++) {\n            fakeBarBorders[i].setAttribute('visibility', 'hidden');\n        }\n        for (var i = 0; i < bars.length; i++) {\n            var bar = bars[i];\n            var attrDataPoint = bar.getAttribute('data-point');\n            if (attrDataPoint && attrDataPoint === dataPoint.x + \"_\" + dataPoint.y) {\n                fakeBarBorders[i].setAttribute('visibility', 'visible');\n                return bar;\n            }\n        }\n        return null;\n    };\n    return BdVerticalBarChartSelectionManager;\n}());\nexport { BdVerticalBarChartSelectionManager };\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVydGljYWxCYXJDaGFydFNlbGVjdGlvbk1hbmFnZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9zcmNJbmxpbmVkL2QzVmVydGljYWxCYXJDaGFydC9oZWxwZXJzL3ZlcnRpY2FsQmFyQ2hhcnRTZWxlY3Rpb25NYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFFckMsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUN2QyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDaEQsT0FBTyxFQUFFLGVBQWUsRUFBb0IsYUFBYSxFQUFlLE1BQU0sc0JBQXNCLENBQUM7QUFDckcsT0FBTyxFQUFFLHlCQUF5QixFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFFdEUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFFNUQsSUFBQTtJQWFJLDRDQUNZLFlBQWlCLEVBQ2pCLFVBQWUsRUFDZixZQUE0QyxFQUM1QyxlQUE4QixFQUM5QixjQUFnQyxFQUNoQyxTQUFrQjtRQU45QixpQkFTQztRQVJXLGlCQUFZLEdBQVosWUFBWSxDQUFLO1FBQ2pCLGVBQVUsR0FBVixVQUFVLENBQUs7UUFDZixpQkFBWSxHQUFaLFlBQVksQ0FBZ0M7UUFDNUMsb0JBQWUsR0FBZixlQUFlLENBQWU7UUFDOUIsbUJBQWMsR0FBZCxjQUFjLENBQWtCO1FBQ2hDLGNBQVMsR0FBVCxTQUFTLENBQVM7bUNBOERVLGNBQU0sT0FBQSxLQUFJLENBQUMsbUJBQW1CLEVBQUUsRUFBMUIsQ0FBMEI7UUE1RHBFLElBQUksQ0FBQywrQkFBK0IsR0FBRyxJQUFJLE9BQU8sRUFBc0IsQ0FBQztLQUM1RTtJQWpCRCxzQkFBSSxnRkFBZ0M7YUFBcEM7WUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLCtCQUErQixDQUFD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","import { BdMargins, BdSize } from '@delen/bd-chart-core';\nvar BdVerticalBarChartDefaultValues = /** @class */ (function () {\n    function BdVerticalBarChartDefaultValues() {\n        this.margins = {\n            defaultMargins: new BdMargins(25, 0, 35, 0),\n            draggerSelectionMargins: new BdMargins(65, 20, 35, 20)\n        };\n        this.defaultSize = new BdSize(240, 700);\n        this.fakeBarBorderExtraSize = 4;\n        this.dragger = {\n            draggerElmWidth: 38,\n            draggerElmHeight: 19\n        };\n        this.bullet = {\n            bulletSize: 3.5,\n            fadeDuration: 150,\n            animationDuration: 750\n        };\n        this.animation = {\n            transitionDuration: 750,\n            transitionDurationFast: 250\n        };\n    }\n    return BdVerticalBarChartDefaultValues;\n}());\nexport { BdVerticalBarChartDefaultValues };\nexport var bdVerticalBarChartDefaultValues = new BdVerticalBarChartDefaultValues();\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVydGljYWxCYXJDaGFydERlZmF1bHRWYWx1ZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9zcmNJbmxpbmVkL2QzVmVydGljYWxCYXJDaGFydC92ZXJ0aWNhbEJhckNoYXJ0RGVmYXVsdFZhbHVlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBRXpELElBQUE7O3VCQUNtQjtZQUNYLGNBQWMsRUFBRSxJQUFJLFNBQVMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDM0MsdUJBQXVCLEVBQUUsSUFBSSxTQUFTLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDO1NBQ3pEOzJCQUNxQixJQUFJLE1BQU0sQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDO3NDQUNULENBQUM7dUJBQ25CO1lBQ1gsZUFBZSxFQUFFLEVBQUU7WUFDbkIsZ0JBQWdCLEVBQUUsRUFBRTtTQUN2QjtzQkFFYTtZQUNWLFVBQVUsRUFBRSxHQUFHO1lBQ2YsWUFBWSxFQUFFLEdBQUc7WUFDakIsaUJBQWlCLEVBQUUsR0FBRztTQUN6Qjt5QkFDZ0I7WUFDYixrQkFBa0IsRUFBRSxHQUFHO1lBQ3ZCLHNCQUFzQixFQUFFLEdBQUc7U0FDOUI7OzBDQXZCTDtJQXdCQyxDQUFBO0FBckJELDJDQXFCQztBQUVELE1BQU0sQ0FBQyxJQUFJLCtCQUErQixHQUFvQyxJQUFJLCtCQUErQixFQUFFLENBQUMifQ==","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as d3 from 'd3';\nimport { BdRenderer } from '@delen/bd-chart-core';\nimport { BdVerticalBarChartClasses } from '../helpers/verticalBarChartClasses';\nimport { bdVerticalBarChartDefaultValues } from '../verticalBarChartDefaultValues';\nvar BdBarRenderer = /** @class */ (function (_super) {\n    __extends(BdBarRenderer, _super);\n    function BdBarRenderer(renderQueue, svgSelection, renderConfig, barDataPoints, axisSvgQueries, renderFakeBarBorder, animate, selectionManager) {\n        var _this = _super.call(this, renderQueue) || this;\n        _this.svgSelection = svgSelection;\n        _this.renderConfig = renderConfig;\n        _this.barDataPoints = barDataPoints;\n        _this.axisSvgQueries = axisSvgQueries;\n        _this.renderFakeBarBorder = renderFakeBarBorder;\n        _this.animate = animate;\n        _this.selectionManager = selectionManager;\n        return _this;\n    }\n    BdBarRenderer.prototype.render = function () {\n        var _this = this;\n        var xScale = this.renderConfig.xRenderConfig.scale;\n        var yScale = this.renderConfig.yRenderConfig.scale;\n        var animationDuration = 250;\n        var animationDelay = 50;\n        var fakeBarBorderExtraSize = bdVerticalBarChartDefaultValues.fakeBarBorderExtraSize;\n        var barRoundedCornersSize = this.renderFakeBarBorder ? 4 : 0;\n        var barClass = this.renderFakeBarBorder ? BdVerticalBarChartClasses.selectedClass : BdVerticalBarChartClasses.barClass;\n        var barWidth = this.renderFakeBarBorder ? xScale.bandwidth() + (fakeBarBorderExtraSize * 2) : xScale.bandwidth();\n        var barVisibility = this.renderFakeBarBorder ? 'hidden' : 'visible';\n        var bars = this.svgSelection.selectAll(\".\" + BdVerticalBarChartClasses.barClass)\n            .data(this.barDataPoints)\n            .enter()\n            .append('rect')\n            .attr('class', barClass)\n            .attr('shape-rendering', 'crispEdges')\n            .attr('x', function (d) {\n            var x = xScale(d.x);\n            return _this.renderFakeBarBorder ? x - fakeBarBorderExtraSize : x;\n        })\n            .attr('y', function (d) {\n            if (_this.renderFakeBarBorder) {\n                return yScale(d.y) - fakeBarBorderExtraSize;\n            }\n            else {\n                if (_this.animate) {\n                    return yScale(0);\n                }\n                else {\n                    return yScale(d.y);\n                }\n            }\n        })\n            .attr('rx', barRoundedCornersSize)\n            .attr('ry', barRoundedCornersSize)\n            .attr('width', barWidth)\n            .attr('height', function (d) {\n            if (_this.renderFakeBarBorder) {\n                var height = yScale(0) - yScale(d.y);\n                return height + (fakeBarBorderExtraSize * 2);\n            }\n            else {\n                if (_this.animate) {\n                    return 0;\n                }\n                else {\n                    return yScale(0) - yScale(d.y);\n                }\n            }\n        })\n            .attr('data-point', function (d) { return d.x + \"_\" + d.y; })\n            .attr('visibility', barVisibility);\n        if (this.renderFakeBarBorder) {\n            this.finishRender();\n        }\n        else if (!this.animate) {\n            if (this.selectionManager) {\n                this.selectionManager.init();\n            }\n            this.finishRender();\n        }\n        else {\n            var nrOfBarAnimationsFinished_1 = 0;\n            bars.transition()\n                .duration(animationDuration)\n                .delay(function (d, idx) {\n                // no animation delay if bar is invisible (height is 0)\n                if (d.y === 0) {\n                    return 0;\n                }\n                return (idx + 1) * animationDelay;\n            })\n                .ease(d3.easeCubicOut)\n                .attr('y', function (d) {\n                return yScale(d.y);\n            })\n                .attr('height', function (d) {\n                return yScale(0) - yScale(d.y);\n            })\n                .on('end', function () {\n                nrOfBarAnimationsFinished_1++;\n                if (nrOfBarAnimationsFinished_1 === bars.nodes().length) {\n                    if (_this.selectionManager) {\n                        _this.selectionManager.init();\n                    }\n                    _this.finishRender();\n                }\n            });\n        }\n    };\n    return BdBarRenderer;\n}(BdRenderer));\nexport { BdBarRenderer };\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFyUmVuZGVyZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9zcmNJbmxpbmVkL2QzVmVydGljYWxCYXJDaGFydC9yZW5kZXJlcnMvYmFyUmVuZGVyZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLE9BQU8sS0FBSyxFQUFFLE1BQU0sSUFBSSxDQUFDO0FBRXpCLE9BQU8sRUFFSCxVQUFVLEVBR2IsTUFBTSxzQkFBc0IsQ0FBQztBQUU5QixPQUFPLEVBQUUseUJBQXlCLEVBQUUsTUFBTSxvQ0FBb0MsQ0FBQztBQUUvRSxPQUFPLEVBQUUsK0JBQStCLEVBQUUsTUFBTSxrQ0FBa0MsQ0FBQztBQUduRixJQUFBO0lBQW1DLGlDQUFVO0lBRXpDLHVCQUNJLFdBQTBCLEVBQ2xCLFlBQWlCLEVBQ2pCLFlBQTRDLEVBQzVDLGFBQTRCLEVBQzVCLGNBQWdDLEVBQ2hDLG1CQUE0QixFQUM1QixPQUFnQixFQUNoQixnQkFBcUQ7UUFSakUsWUFVSSxrQkFBTSxXQUFXLENBQUMsU0FDckI7UUFUVyxrQkFBWSxHQUFaLFlBQVksQ0FBSztRQUNqQixrQkFBWSxHQUFaLFlBQVksQ0FBZ0M7UUFDNUMsbUJBQWEsR0FBYixhQUFhLENBQWU7UUFDNUIsb0JBQWMsR0FBZCxjQUFjLENBQWtCO1FBQ2hDLHlCQUFtQixHQUFuQixtQkFBbUIsQ0FBUztRQUM1QixhQUFPLEdBQVAsT0FBTyxDQUFTO1FBQ2hCLHNCQUFnQixHQUFoQixnQkFBZ0IsQ0FBcUM7O0tBR2hFO0lBRUQsOEJBQU0sR0FBTjtRQUFBLGlCQXNGQztRQXJGRyxJQUFNLE1BQU0sR0FBUSxJQUFJLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUM7UUFDMUQsSUFBTSxNQUFNLEdBQVEsSUFBSSxDQUFDLFlBQVksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDO1FBRTFELElBQU0saUJBQWlCLEdBQVcsR0FBRyxDQUFDO1FBQ3RDLElB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","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { BdRenderer, BdAxisSvgQueries, BdAxisDirection } from '@delen/bd-chart-core';\nvar BdEditBarLabelRenderer = /** @class */ (function (_super) {\n    __extends(BdEditBarLabelRenderer, _super);\n    function BdEditBarLabelRenderer(renderQueue, svgSelection, renderConfig, barDataPoints, axisSvgQueries) {\n        var _this = _super.call(this, renderQueue) || this;\n        _this.svgSelection = svgSelection;\n        _this.renderConfig = renderConfig;\n        _this.barDataPoints = barDataPoints;\n        _this.axisSvgQueries = axisSvgQueries;\n        return _this;\n    }\n    BdEditBarLabelRenderer.prototype.render = function () {\n        this.axisSvgQueries = new BdAxisSvgQueries(this.svgSelection);\n        var labels = this.axisSvgQueries.getLabels(BdAxisDirection.X).nodes();\n        for (var i in this.barDataPoints) {\n            var label = labels[i];\n            label.textContent = this.renderConfig.xRenderConfig.labelFormatter(new Date(this.barDataPoints[i].x), 0);\n        }\n        this.finishRender();\n    };\n    return BdEditBarLabelRenderer;\n}(BdRenderer));\nexport { BdEditBarLabelRenderer };\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWRpdEJhckxhYmVsUmVuZGVyZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9zcmNJbmxpbmVkL2QzVmVydGljYWxCYXJDaGFydC9yZW5kZXJlcnMvZWRpdEJhckxhYmVsUmVuZGVyZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLE9BQU8sRUFFSCxVQUFVLEVBRVYsZ0JBQWdCLEVBQ2hCLGVBQWUsRUFDbEIsTUFBTSxzQkFBc0IsQ0FBQztBQUk5QixJQUFBO0lBQTRDLDBDQUFVO0lBRWxELGdDQUNJLFdBQTBCLEVBQ2xCLFlBQWlCLEVBQ2pCLFlBQTRDLEVBQzVDLGFBQTRCLEVBQzVCLGNBQWdDO1FBTDVDLFlBT0ksa0JBQU0sV0FBVyxDQUFDLFNBQ3JCO1FBTlcsa0JBQVksR0FBWixZQUFZLENBQUs7UUFDakIsa0JBQVksR0FBWixZQUFZLENBQWdDO1FBQzVDLG1CQUFhLEdBQWIsYUFBYSxDQUFlO1FBQzVCLG9CQUFjLEdBQWQsY0FBYyxDQUFrQjs7S0FHM0M7SUFFRCx1Q0FBTSxHQUFOO1FBQ0ksSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLGdCQUFnQixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUM5RCxJQUFNLE1BQU0sR0FBUSxJQUFJLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7UUFFN0UsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7WUFDL0IsSUFBSSxLQUFLLEdBQWUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xDLEtBQUssQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxhQUFhLENBQUMsY0FBYyxDQUFDLElBQUksSUFBSSxDQUFTLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDcEg7UUFFRCxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7S0FDdkI7aUNBaENMO0VBVTRDLFVBQVUsRUF3QnJELENBQUE7QUF4QkQsa0NBd0JDIn0=","import { select } from 'd3-selection';\nimport { BdAddFirstTimeTickIfMissingRenderer, BdAxisDataType, BdAxisRenderer, BdAxisSvgQueries, BdCenterLabelsBetweenTicksRenderer, BdClipPathRenderer, BdRemoveClippedLabelsRenderer, BdRenderQueue, BdTickRenderer, BdTransformChartRenderer } from '@delen/bd-chart-core';\nimport { BdVerticalBarChartSelectionType } from './helpers/verticalBarChartSelectionType';\nimport { BdVerticalBarChartSelectionManager } from './helpers/verticalBarChartSelectionManager';\nimport { BdBarRenderer } from './renderers/barRenderer';\nimport { BdEditBarLabelRenderer } from './renderers/editBarLabelRenderer';\nvar BdVerticalBarChartRenderComposition = /** @class */ (function () {\n    function BdVerticalBarChartRenderComposition(element, renderConfig, verticalBarChartData, selectionType, animate, container) {\n        this.element = element;\n        this.renderConfig = renderConfig;\n        this.verticalBarChartData = verticalBarChartData;\n        this.selectionType = selectionType;\n        this.animate = animate;\n        this.container = container;\n        // append a graphic element to the svg that will contain the whole chart\n        this.svgSelection = select(element).append('g');\n        // d3 is like jquery we use the svg selection manager so we only have to traverse the SVG dom once when making selections\n        this.axisSvgQueries = new BdAxisSvgQueries(this.svgSelection);\n        // this is used to capture events for selections\n        this._selectionManager = new BdVerticalBarChartSelectionManager(this.svgSelection, this.element, this.renderConfig, this.verticalBarChartData, this.axisSvgQueries, this.container);\n        // build all the subrenderers\n        this.buildRenderQueue();\n    }\n    Object.defineProperty(BdVerticalBarChartRenderComposition.prototype, \"verticalBarChartTemplateSubject\", {\n        get: function () {\n            return this._selectionManager.onUpdateVerticalBarChartTemplate;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BdVerticalBarChartRenderComposition.prototype, \"selectionBoundingRect\", {\n        get: function () {\n            return this._selectionManager.selectionAreaBoundingRect;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BdVerticalBarChartRenderComposition.prototype, \"onRenderFinished\", {\n        get: function () {\n            return this.renderQueue.onRenderQueueFinished;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * render the whole queue\n     */\n    /**\n                * render the whole queue\n                */\n    BdVerticalBarChartRenderComposition.prototype.render = /**\n                * render the whole queue\n                */\n    function () {\n        this.renderQueue.startRendering();\n    };\n    BdVerticalBarChartRenderComposition.prototype.destroy = function () {\n        // unsubscribe observables and destroy event handlers\n        this._selectionManager.destroy();\n        // remove all nodes from the svg element\n        this.svgSelection.node().parentNode.textContent = '';\n    };\n    /**\n     * select a data point on the chart\n     * @param {BdDataPoint} dataPoint\n     */\n    /**\n                * select a data point on the chart\n                * @param {BdDataPoint} dataPoint\n                */\n    BdVerticalBarChartRenderComposition.prototype.selectDataPoint = /**\n                * select a data point on the chart\n                * @param {BdDataPoint} dataPoint\n                */\n    function (dataPoint) {\n        this._selectionManager.selectDataPoint(dataPoint);\n    };\n    /***\n     * order of adding to the renderQueue is important because:\n     * - some renderers modify elements created by previously executed renderers\n     * - some stuff needs to be added after animations\n     */\n    /***\n                * order of adding to the renderQueue is important because:\n                * - some renderers modify elements created by previously executed renderers\n                * - some stuff needs to be added after animations\n                */\n    BdVerticalBarChartRenderComposition.prototype.buildRenderQueue = /***\n                * order of adding to the renderQueue is important because:\n                * - some renderers modify elements created by previously executed renderers\n                * - some stuff needs to be added after animations\n                */\n    function () {\n        this.renderQueue = new BdRenderQueue();\n        // render the axis and ticks\n        this.renderQueue\n            .add(new BdAxisRenderer(this.renderQueue, this.svgSelection, this.renderConfig.size, this.renderConfig.xRenderConfig))\n            .add(new BdTickRenderer(this.renderQueue, this.svgSelection, this.renderConfig.size, this.renderConfig.xRenderConfig))\n            .add(new BdAxisRenderer(this.renderQueue, this.svgSelection, this.renderConfig.size, this.renderConfig.yRenderConfig))\n            .add(new BdTickRenderer(this.renderQueue, this.svgSelection, this.renderConfig.size, this.renderConfig.yRenderConfig))\n            .add(new BdClipPathRenderer(this.renderQueue, this.svgSelection, this.renderConfig.size, this.renderConfig.id));\n        if (this.renderConfig.yRenderConfig.dataType === BdAxisDataType.Date) {\n            this.renderQueue\n                .add(new BdAddFirstTimeTickIfMissingRenderer(this.renderQueue, this.renderConfig.yRenderConfig, this.axisSvgQueries))\n                .add(new BdCenterLabelsBetweenTicksRenderer(this.renderQueue, this.renderConfig.yRenderConfig, this.axisSvgQueries, this.renderConfig.size));\n        }\n        this.renderQueue.add(new BdRemoveClippedLabelsRenderer(this.renderQueue, this.axisSvgQueries));\n        this.renderQueue.add(new BdEditBarLabelRenderer(this.renderQueue, this.svgSelection, this.renderConfig, this.verticalBarChartData, this.axisSvgQueries));\n        // add some transformations to the chart to make everything fit\n        this.renderQueue.add(new BdTransformChartRenderer(this.renderQueue, this.svgSelection, this.renderConfig.xRenderConfig, this.renderConfig.yRenderConfig, this.axisSvgQueries, this.renderConfig.margins));\n        if (this.selectionType === BdVerticalBarChartSelectionType.BarSelection) {\n            this.renderQueue.add(new BdBarRenderer(this.renderQueue, this.svgSelection, this.renderConfig, this.verticalBarChartData, this.axisSvgQueries, true, this.animate));\n            this.renderQueue.add(new BdBarRenderer(this.renderQueue, this.svgSelection, this.renderConfig, this.verticalBarChartData, this.axisSvgQueries, false, this.animate, this._selectionManager));\n        }\n        else {\n            this.renderQueue.add(new BdBarRenderer(this.renderQueue, this.svgSelection, this.renderConfig, this.verticalBarChartData, this.axisSvgQueries, false, this.animate));\n        }\n    };\n    return BdVerticalBarChartRenderComposition;\n}());\nexport { BdVerticalBarChartRenderComposition };\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVydGljYWxCYXJDaGFydFJlbmRlckNvbXBvc2l0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vc3JjSW5saW5lZC9kM1ZlcnRpY2FsQmFyQ2hhcnQvdmVydGljYWxCYXJDaGFydFJlbmRlckNvbXBvc2l0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFFdEMsT0FBTyxFQUNILG1DQUFtQyxFQUNuQyxjQUFjLEVBQ2QsY0FBYyxFQUNkLGdCQUFnQixFQUNoQixrQ0FBa0MsRUFDbEMsa0JBQWtCLEVBRWxCLDZCQUE2QixFQUM3QixhQUFhLEVBQ2IsY0FBYyxFQUNkLHdCQUF3QixFQUUzQixNQUFNLHNCQUFzQixDQUFDO0FBRzlCLE9BQU8sRUFBRSwrQkFBK0IsRUFBRSxNQUFNLHlDQUF5QyxDQUFDO0FBRTFGLE9BQU8sRUFBRSxrQ0FBa0MsRUFBRSxNQUFNLDRDQUE0QyxDQUFDO0FBQ2hHLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUN4RCxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSxrQ0FBa0MsQ0FBQztBQUcxRSxJQUFBO0lBbUJXLDZDQUNZLE9BQVksRUFDWixZQUE0QyxFQUM1QyxvQkFBbUMsRUFDbkMsYUFBOEMsRUFDOUMsT0FBZ0IsRUFDaEIsU0FBa0I7UUFMbEIsWUFBTyxHQUFQLE9BQU8sQ0FBSztRQUNaLGlCQUFZLEdBQVosWUFBWSxDQUFnQztRQUM1Qyx5QkFBb0IsR0FBcEIsb0JBQW9CLENBQWU7UUFDbkMsa0JBQWEsR0FBYixhQUFhLENBQWlDO1FBQzlDLFlBQU8sR0FBUCxPQUFPLENBQVM7UUFDaEIsY0FBUyxHQUFULFNBQVMsQ0FBUzs7UUFHMUIsSUFBSSxDQUFDLFlBQVksR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDOztRQUVoRCxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDOztRQUU5RCxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxrQ0FBa0MsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7O1FBRXBMLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO0tBQzNCO0lBNUJELHNCQUFJLGdGQUErQjthQUFuQztZQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsZ0NBQWdDLENBQUM7U0FDbEU7OztPQUFBO0lBRUQsc0JBQUksc0VBQXFCO2FBQXpCO1lBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyx5QkFBeUIsQ0FBQztTQUMzRDs7O09BQUE7SUFFRCxzQkFBSSxpRUFBZ0I7YUFBcEI7WUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxxQkFBcUIsQ0FBQztTQUNqRDs7O09BQUE7SUFvQkQ7O09BRUc7Ozs7SUFDSCxvREFBTTs7O0lBQU47UUFDSSxJQUFJLENBQUMsV0FBVyxDQUFDLGNBQWMsRUFBRSxDQUFDO0tBQ3JDO0lBRUQscURBQU8sR0FBUDs7UUFFSSxJQUFJLENBQUMsaUJBQWlCLENBQUMsT0FBTyxFQUFFLENBQUM7O1FBRWpDLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLENBQUMsVUFBVSxDQUFDLFdBQVcsR0FBRyxFQUFFLENBQUM7S0FDeEQ7SUFFRDs7O09BR0c7Ozs7O0lBQ0gsNkRBQWU7Ozs7SUFBZixVQUFnQixTQUFzQjtRQUNsQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsZUFBZSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0tBQ3JEO0lBRUQ7Ozs7T0FJRzs7Ozs7O0lBQ00sOERBQWdCOzs7OztJQUF4QjtRQUNJLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxhQUFhLEVBQUUsQ0FBQzs7UUFHdkMsSUFBSSxDQUFDLFdBQVc7YUFDWCxHQUFHLENBQUMsSUFBSSxjQUFjLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDLENBQUM7YUFDckgsR0FBRyxDQUFDLElBQUksY0FBYyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxDQUFDO2FBQ3JILEdBQUcsQ0FBQyxJQUFJLGNBQWMsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxhQUFhLENBQUMsQ0FBQzthQUNySCxHQUFHLENBQUMsSUFBSSxjQUFjLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDLENBQUM7YUFDckgsR0FBRyxDQUFDLElBQUksa0JBQWtCLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUVwSCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxRQUFRLEtBQUssY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDbkUsSUFBSSxDQUFDLFdBQVc7aUJBQ1gsR0FBRyxDQUNBLElBQUksbUNBQW1DLENBQ25DLElBQUksQ0FBQyxXQUFXLEVBQ1EsSUFBSSxDQUFDLFlBQVksQ0FBQyxhQUFhLEVBQ3ZELElBQUksQ0FBQyxjQUFjLENBQ3RCLENBQ0o7aUJBQ0EsR0FBRyxDQUNBLElBQUksa0NBQWtDLENBQ2xDLElBQUksQ0FBQyxXQUFXLEVBQ1EsSUFBSSxDQUFDLFlBQVksQ0FBQyxhQUFhLEVBQ3ZELElBQUksQ0FBQyxjQUFjLEVBQ25CLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUN6QixDQUNKLENBQUM7U0FDVDtRQUVELElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksNkJBQTZCLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQztRQUMvRixJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxJQUFJLHNCQUFzQixDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQzs7UUFHekosSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsSUFBSSx3QkFBd0IsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFFMU0sRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsS0FBSywrQkFBK0IsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO1lBQ3RFLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksYUFBYSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLENBQUMsY0FBYyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztZQUNwSyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxJQUFJLGFBQWEsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLGNBQWMsRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDO1NBQ2hNO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDSixJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxJQUFJLGFBQWEsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLGNBQWMsRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7U0FDeEs7S0FDSjs4Q0FwSWI7SUFxSVEsQ0FBQTtBQTNHUiwrQ0EyR1EifQ==","var __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nimport { min as d3Min, max as d3Max } from 'd3-array';\nimport { select } from 'd3-selection';\nimport { BdAxisDirection, BdNumericAxisRenderConfig, BdTimeAxisRenderConfig, BdBandAxisRenderConfig, BdGraphSizeHelper, BdAxisDataType } from '@delen/bd-chart-core';\nimport { bdVerticalBarChartDefaultValues } from '../verticalBarChartDefaultValues';\n/**\n * the settings passed to the graph need to be translated to something d3 can use to render\n * this class holds values derived from the configuration bound to the chart component\n * these derived values can be used in d3\n * to get a better insight look at BdAxisRenderConfig which is derived from NumericAxisConfig and TimeAxisConfig\n */\nvar /**\n * the settings passed to the graph need to be translated to something d3 can use to render\n * this class holds values derived from the configuration bound to the chart component\n * these derived values can be used in d3\n * to get a better insight look at BdAxisRenderConfig which is derived from NumericAxisConfig and TimeAxisConfig\n */\nBdVerticalBarChartRenderConfig = /** @class */ (function () {\n    function BdVerticalBarChartRenderConfig(svgElement, xAxisConfig, yAxisConfig, id, verticalBarChartData, container, chartHeight) {\n        this.id = id;\n        this.verticalBarChartData = verticalBarChartData;\n        this.container = container;\n        this.chartHeight = chartHeight;\n        this.svgSelection = select(svgElement);\n        // we need a copy of the margins because they will be adapted by the code and we don't want them to be changed when we rerender\n        this.margins = __assign({}, bdVerticalBarChartDefaultValues.margins.defaultMargins);\n        var yMin = this.getMinFromData(BdAxisDirection.Y);\n        var yMax = this.getMaxFromData(BdAxisDirection.Y);\n        this.size = new BdGraphSizeHelper(svgElement, this.margins, xAxisConfig, yAxisConfig, verticalBarChartData, yMin, yMax, bdVerticalBarChartDefaultValues.defaultSize, this.container, this.chartHeight).getSize();\n        this.xRenderConfig = new BdBandAxisRenderConfig(BdAxisDirection.X, xAxisConfig, this.size, this.getMinFromData(BdAxisDirection.X), this.getMaxFromData(BdAxisDirection.X), this.verticalBarChartData);\n        switch (yAxisConfig.dataType) {\n            case BdAxisDataType.Date:\n                this.yRenderConfig = new BdTimeAxisRenderConfig(BdAxisDirection.Y, yAxisConfig, this.size, this.getMinFromData(BdAxisDirection.Y), this.getMaxFromData(BdAxisDirection.Y), this.verticalBarChartData);\n                break;\n            case BdAxisDataType.Number:\n                this.yRenderConfig = new BdNumericAxisRenderConfig(BdAxisDirection.Y, yAxisConfig, this.size, this.getMinFromData(BdAxisDirection.Y), this.getMaxFromData(BdAxisDirection.Y), this.verticalBarChartData);\n                break;\n            default:\n                break;\n        }\n    }\n    // get the minimum x or y (depending on axis direction) from the data\n    // get the minimum x or y (depending on axis direction) from the data\n    BdVerticalBarChartRenderConfig.prototype.getMinFromData = \n    // get the minimum x or y (depending on axis direction) from the data\n    function (axisDirection) {\n        var min = Number.MAX_VALUE;\n        var lineDataMin = d3Min(this.verticalBarChartData, function (dataPoint) { return axisDirection === BdAxisDirection.X ? dataPoint.x : dataPoint.y; });\n        min = Math.min(lineDataMin, min);\n        return min;\n    };\n    // get the maximum x or y (depending on axis direction) from the data\n    // get the maximum x or y (depending on axis direction) from the data\n    BdVerticalBarChartRenderConfig.prototype.getMaxFromData = \n    // get the maximum x or y (depending on axis direction) from the data\n    function (axisDirection) {\n        var max = Number.MIN_VALUE;\n        var lineDataMax = d3Max(this.verticalBarChartData, function (dataPoint) { return axisDirection === BdAxisDirection.X ? dataPoint.x : dataPoint.y; });\n        max = Math.max(lineDataMax, max);\n        return max;\n    };\n    return BdVerticalBarChartRenderConfig;\n}());\n/**\n * the settings passed to the graph need to be translated to something d3 can use to render\n * this class holds values derived from the configuration bound to the chart component\n * these derived values can be used in d3\n * to get a better insight look at BdAxisRenderConfig which is derived from NumericAxisConfig and TimeAxisConfig\n */\nexport { BdVerticalBarChartRenderConfig };\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVydGljYWxCYXJDaGFydFJlbmRlckNvbmZpZy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3NyY0lubGluZWQvZDNWZXJ0aWNhbEJhckNoYXJ0L3JlbmRlckNvbmZpZy92ZXJ0aWNhbEJhckNoYXJ0UmVuZGVyQ29uZmlnLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsT0FBTyxFQUFFLEdBQUcsSUFBSSxLQUFLLEVBQUUsR0FBRyxJQUFJLEtBQUssRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUN0RCxPQUFPLEVBQUUsTUFBTSxFQUFhLE1BQU0sY0FBYyxDQUFDO0FBRWpELE9BQU8sRUFFSCxlQUFlLEVBQ2YseUJBQXlCLEVBQ3pCLHNCQUFzQixFQUV0QixzQkFBc0IsRUFFdEIsaUJBQWlCLEVBR2pCLGNBQWMsRUFDakIsTUFBTSxzQkFBc0IsQ0FBQztBQUU5QixPQUFPLEVBQUUsK0JBQStCLEVBQUUsTUFBTSxrQ0FBa0MsQ0FBQzs7Ozs7OztBQVFuRjs7Ozs7O0FBQUE7SUFPSSx3Q0FDSSxVQUFzQixFQUN0QixXQUF5QixFQUN6QixXQUF5QixFQUNsQixFQUFVLEVBQ1Qsb0JBQW1DLEVBQ25DLFNBQWtCLEVBQ2xCLFdBQW9CO1FBSHJCLE9BQUUsR0FBRixFQUFFLENBQVE7UUFDVCx5QkFBb0IsR0FBcEIsb0JBQW9CLENBQWU7UUFDbkMsY0FBUyxHQUFULFNBQVMsQ0FBUztRQUNsQixnQkFBVyxHQUFYLFdBQVcsQ0FBUztRQUU1QixJQUFJLENBQUMsWUFBWSxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQzs7UUFFdkMsSUFBSSxDQUFDLE9BQU8sZ0JBQU8sK0JBQStCLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQzNFLElBQU0sSUFBSSxHQUFXLElBQUksQ0FBQyxjQUFjLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVELElBQU0sSUFBSSxHQUFXLElBQUks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","import { BdVerticalBarChartRenderComposition } from './verticalBarChartRenderComposition';\nimport { BdVerticalBarChartRenderConfig } from './renderConfig/verticalBarChartRenderConfig';\nvar BdD3VerticalBarChart = /** @class */ (function () {\n    function BdD3VerticalBarChart(svgElement, xAxisConfig, yAxisConfig, verticalBarChartData, selectionType, id, container, animate, chartHeight) {\n        this.svgElement = svgElement;\n        this.verticalBarChartData = verticalBarChartData;\n        this.renderConfig = new BdVerticalBarChartRenderConfig(this.svgElement, xAxisConfig, yAxisConfig, id, verticalBarChartData, container, chartHeight);\n        this.verticalBarChartRenderComposition = new BdVerticalBarChartRenderComposition(this.svgElement, this.renderConfig, verticalBarChartData, selectionType, animate, container);\n    }\n    Object.defineProperty(BdD3VerticalBarChart.prototype, \"verticalBarChartTemplateSubject\", {\n        get: function () {\n            return this.verticalBarChartRenderComposition.verticalBarChartTemplateSubject;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BdD3VerticalBarChart.prototype, \"selectionBoundingRect\", {\n        get: function () {\n            return this.verticalBarChartRenderComposition.selectionBoundingRect;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BdD3VerticalBarChart.prototype, \"onRenderFinished\", {\n        get: function () {\n            return this.verticalBarChartRenderComposition.onRenderFinished;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BdD3VerticalBarChart.prototype.render = function () {\n        this.verticalBarChartRenderComposition.render();\n    };\n    BdD3VerticalBarChart.prototype.destroy = function () {\n        this.verticalBarChartRenderComposition.destroy();\n    };\n    BdD3VerticalBarChart.prototype.selectDataPoint = function (dataPoint) {\n        this.verticalBarChartRenderComposition.selectDataPoint(dataPoint);\n    };\n    return BdD3VerticalBarChart;\n}());\nexport { BdD3VerticalBarChart };\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZDNWZXJ0aWNhbEJhckNoYXJ0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vc3JjSW5saW5lZC9kM1ZlcnRpY2FsQmFyQ2hhcnQvZDNWZXJ0aWNhbEJhckNoYXJ0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU1BLE9BQU8sRUFBRSxtQ0FBbUMsRUFBRSxNQUFNLHFDQUFxQyxDQUFDO0FBQzFGLE9BQU8sRUFBRSw4QkFBOEIsRUFBRSxNQUFNLDZDQUE2QyxDQUFDO0FBRzdGLElBQUE7SUFpQkksOEJBQ1ksVUFBc0IsRUFDOUIsV0FBeUIsRUFDekIsV0FBeUIsRUFDakIsb0JBQW1DLEVBQzNDLGFBQThDLEVBQzlDLEVBQVUsRUFDVixTQUFrQixFQUNsQixPQUFnQixFQUNoQixXQUFvQjtRQVJaLGVBQVUsR0FBVixVQUFVLENBQVk7UUFHdEIseUJBQW9CLEdBQXBCLG9CQUFvQixDQUFlO1FBTzNDLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSw4QkFBOEIsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLFdBQVcsRUFBRSxXQUFXLEVBQUUsRUFBRSxFQUFFLG9CQUFvQixFQUFFLFNBQVMsRUFBRSxXQUFXLENBQUMsQ0FBQztRQUNwSixJQUFJLENBQUMsaUNBQWlDLEdBQUcsSUFBSSxtQ0FBbUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxZQUFZLEVBQUUsb0JBQW9CLEVBQUUsYUFBYSxFQUFFLE9BQU8sRUFBRSxTQUFTLENBQUMsQ0FBQztLQUNqTDtJQXpCRCxzQkFBSSxpRUFBK0I7YUFBbkM7WUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLGlDQUFpQyxDQUFDLCtCQUErQixDQUFDO1NBQ2pGOzs7T0FBQTtJQUVELHNCQUFJLHVEQUFxQjthQUF6QjtZQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsaUNBQWlDLENBQUMscUJBQXFCLENBQUM7U0FDdkU7OztPQUFBO0lBRUQsc0JBQUksa0RBQWdCO2FBQXBCO1lBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxpQ0FBaUMsQ0FBQyxnQkFBZ0IsQ0FBQztTQUNsRTs7O09BQUE7SUFpQkQscUNBQU0sR0FBTjtRQUNJLElBQUksQ0FBQyxpQ0FBaUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztLQUNuRDtJQUVELHNDQUFPLEdBQVA7UUFDSSxJQUFJLENBQUMsaUNBQWlDLENBQUMsT0FBTyxFQUFFLENBQUM7S0FDcEQ7SUFFRCw4Q0FBZSxHQUFmLFVBQWdCLFNBQXNCO1FBQ2xDLElBQUksQ0FBQyxpQ0FBaUMsQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLENBQUM7S0FDckU7K0JBcERMO0lBcURDLENBQUE7QUEzQ0QsZ0NBMkNDIn0=","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { BdPositionStrategy, BdTemplateSharedClasses, BdTemplateStyles } from '@delen/bd-chart-core';\nimport { BdDOMRect } from '@delen/bd-utilities';\nimport { bdVerticalBarChartDefaultValues } from '../verticalBarChartDefaultValues';\nvar BdBarTemplatePositionStrategy = /** @class */ (function (_super) {\n    __extends(BdBarTemplatePositionStrategy, _super);\n    function BdBarTemplatePositionStrategy() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BdBarTemplatePositionStrategy.prototype.calculatePosition = function (templateWrapperElement, barPositioningData) {\n        var containerElement = barPositioningData.container;\n        var templateDomRect = BdDOMRect.fromClientRect(templateWrapperElement.getBoundingClientRect());\n        var containerDomRect = BdDOMRect.fromClientRect(barPositioningData.container.getBoundingClientRect());\n        var wrapperHeight = templateDomRect.height;\n        var wrapperWidth = templateDomRect.width;\n        var spacing = 5;\n        var containerStyle = window.getComputedStyle(containerElement);\n        var paddingTop = containerStyle.paddingTop !== null ? parseFloat(containerStyle.paddingTop) : 0;\n        var paddingBottom = containerStyle.paddingBottom !== null ? parseFloat(containerStyle.paddingBottom) : 0;\n        var containerPaddingTotal = paddingTop + paddingBottom;\n        var maxYPosition = containerDomRect.height - wrapperHeight - spacing - containerPaddingTotal;\n        var fakeBarBorderExtraSize = bdVerticalBarChartDefaultValues.fakeBarBorderExtraSize;\n        var arrowPosition = barPositioningData.position.y - maxYPosition;\n        var bdTemplateStyle = new BdTemplateStyles();\n        /* Add the classes that need to be set default */\n        bdTemplateStyle.classes += BdTemplateSharedClasses.calloutClass + \" \" + BdTemplateSharedClasses.calloutFadeInClass;\n        /* Calculate the horizontal/x position */\n        if (barPositioningData.isOnLeftSideOfBar) {\n            bdTemplateStyle.arrowClasses += BdTemplateSharedClasses.arrowLeftClass + \" \"; // position the template on the left and the arrow on the right side\n            bdTemplateStyle.templateStyle.left = barPositioningData.position.x - (wrapperWidth + fakeBarBorderExtraSize) + \"px\"; // set a left style to position horizontal (x)\n        }\n        else {\n            bdTemplateStyle.arrowClasses += BdTemplateSharedClasses.arrowRightClass + \" \"; // position the template on the right and the arrow on the left side\n            bdTemplateStyle.templateStyle.left = barPositioningData.position.x + fakeBarBorderExtraSize + \"px\";\n        }\n        /* Calculate the vertical/y position */\n        if ((barPositioningData.position.y - wrapperHeight / 2) > maxYPosition) {\n            bdTemplateStyle.templateStyle.top = maxYPosition + \"px\"; // align the template as low as possible\n            bdTemplateStyle.arrowStyle.top = arrowPosition + \"px\";\n        }\n        else {\n            bdTemplateStyle.templateStyle.top = barPositioningData.position.y - wrapperHeight / 2 + \"px\"; // align the template to the center of the bar\n            bdTemplateStyle.arrowStyle.top = \"50%\";\n        }\n        return bdTemplateStyle;\n    };\n    return BdBarTemplatePositionStrategy;\n}(BdPositionStrategy));\nexport { BdBarTemplatePositionStrategy };\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFyVGVtcGxhdGVQb3NpdGlvblN0cmF0ZWd5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vc3JjSW5saW5lZC9kM1ZlcnRpY2FsQmFyQ2hhcnQvaGVscGVycy9iYXJUZW1wbGF0ZVBvc2l0aW9uU3RyYXRlZ3kudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLE9BQU8sRUFDSCxrQkFBa0IsRUFDbEIsdUJBQXVCLEVBQ3ZCLGdCQUFnQixFQUNuQixNQUFNLHNCQUFzQixDQUFDO0FBRTlCLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUVoRCxPQUFPLEVBQUUsK0JBQStCLEVBQUUsTUFBTSxrQ0FBa0MsQ0FBQztBQUVuRixJQUFBO0lBQW1ELGlEQUFrQjs7OztJQUVqRSx5REFBaUIsR0FBakIsVUFBa0Isc0JBQStCLEVBQUUsa0JBQXNDO1FBQ3JGLElBQU0sZ0JBQWdCLEdBQVksa0JBQWtCLENBQUMsU0FBUyxDQUFDO1FBQy9ELElBQU0sZUFBZSxHQUFjLFNBQVMsQ0FBQyxjQUFjLENBQUMsc0JBQXNCLENBQUMscUJBQXFCLEVBQUUsQ0FBQyxDQUFDO1FBQzVHLElBQU0sZ0JBQWdCLEdBQWMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMscUJBQXFCLEVBQUUsQ0FBQyxDQUFDO1FBQ25ILElBQU0sYUFBYSxHQUFXLGVBQWUsQ0FBQyxNQUFNLENBQUM7UUFDckQsSUFBTSxZQUFZLEdBQVcsZUFBZSxDQUFDLEtBQUssQ0FBQztRQUNuRCxJQUFNLE9BQU8sR0FBVyxDQUFDLENBQUM7UUFDMUIsSUFBTSxjQUFjLEdBQXdCLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQ3RGLElBQU0sVUFBVSxHQUFXLGNBQWMsQ0FBQyxVQUFVLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDMUcsSUFBTSxhQUFhLEdBQVcsY0FBYyxDQUFDLGFBQWEsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxjQUFjLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuSCxJQUFNLHFCQUFxQixHQUFXLFVBQVUsR0FBRyxhQUFhLENBQUM7UUFDakUsSUFBTSxZQUFZLEdBQVcsZ0JBQWdCLENBQUMsTUFBTSxHQUFHLGFBQWEsR0FBRyxPQUFPLEdBQUcscUJBQXFCLENBQUM7UUFDdkcsSUFBTSxzQkFBc0IsR0FBVywrQkFBK0IsQ0FBQyxzQkFBc0IsQ0FBQztRQUM5RixJQUFNLGFBQWEsR0FBVyxrQkFBa0IsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLFlBQVksQ0FBQztRQUUzRSxJQUFJLGVBQWUsR0FBcUIsSUFBSSxnQkFBZ0IsRUFBRSxDQUFDOztRQUcvRCxlQUFlLENBQUMsT0FBTyxJQUFPLHVCQUF1QixDQUFDLFlBQVksU0FBSSx1QkFBdUIsQ0FBQyxrQkFBb0IsQ0FBQzs7UUFHbkgsRUFBRSxDQUFDLENBQUMsa0JBQWtCLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDO1lBQ3ZDLGVBQWUsQ0FBQyxZQUFZLElBQU8sdUJBQXVCLENBQUMsY0FBYyxNQUFHLENBQUM7WUFDN0UsZUFBZSxDQUFDLGFBQWEsQ0FBQyxJQUFJLEdBQU0sa0JBQWtCLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLFlBQVksR0FBRyxzQkFBc0IsQ0FBQyxPQUFJLENBQUM7U0FDdkg7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNKLGVBQWUsQ0FBQyxZQUFZLElBQU8sdUJBQXVCLENBQUMsZUFBZSxNQUFHLENBQUM7WUFDOUUsZUFBZSxDQUFDLGFBQWEsQ0FBQyxJQUFJLEdBQU0sa0JBQWtCLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxzQkFBc0IsT0FBSSxDQUFDO1NBQ3RHOztRQUdELEVBQUUsQ0FBQyxDQUFDLENBQUMsa0JBQWtCLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxhQUFhLEdBQUcsQ0FBQyxDQUFDLEdBQUcsWUFBWSxDQUFDLENBQUMsQ0FBQztZQUNyRSxlQUFlLENBQUMsYUFBYSxDQUFDLEdBQUcsR0FBTSxZQUFZLE9BQUksQ0FBQztZQUN4RCxlQUFlLENBQUMsVUFBVSxDQUFDLEdBQUcsR0FBTSxhQUFhLE9BQUksQ0FBQztTQUN6RDtRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ0osZUFBZSxDQUFDLGFBQWEsQ0FBQyxHQUFHLEdBQU0sa0JBQWtCLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxhQUFhLEdBQUcsQ0FBQyxPQUFJLENBQUM7WUFDN0YsZUFBZSxDQUFDLFVBQVUsQ0FBQyxHQUFHLEdBQUcsS0FBSyxDQUFDO1NBQzFDO1FBRUQsTUFBTSxDQUFDLGVBQWUsQ0FBQztLQUMxQjt3Q0FuREw7RUFVbUQsa0JBQWtCLEVBMENwRSxDQUFBO0FBMUNELHlDQTBDQyJ9","import { Component, ElementRef, EventEmitter, Input, Output, ViewChild, NgZone } from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\nimport { BdBandAxisConfig, BdChartTemplateComponent } from '@delen/bd-chart-core';\nimport { BdEventService, BdDeviceService } from '@delen/bd-utilities';\nimport { BdD3VerticalBarChart } from './d3VerticalBarChart/d3VerticalBarChart';\nimport { BdVerticalBarChartSelectionType } from './d3VerticalBarChart/helpers/verticalBarChartSelectionType';\nimport { BdBarTemplatePositionStrategy } from './d3VerticalBarChart/helpers/barTemplatePositionStrategy';\nimport 'rxjs/add/operator/takeUntil';\nimport 'rxjs/add/operator/debounceTime';\nvar BdVerticalBarChartComponent = /** @class */ (function () {\n    function BdVerticalBarChartComponent(ngZone, bdEventService, bdDeviceService) {\n        this.ngZone = ngZone;\n        this.bdEventService = bdEventService;\n        this.bdDeviceService = bdDeviceService;\n        this.rendering = false;\n        this.needsRerender = false;\n        this.renderComplete$ = new Subject();\n        this.chartDestroyed$ = new Subject();\n        this.componentDestroyed$ = new Subject();\n        this.selectedDataPointPropertyName = 'selectedDataPoint';\n        this.selectionType = BdVerticalBarChartSelectionType.None;\n        // event so we can react when the selected point is changed\n        this.selectedDataPointChange = new EventEmitter();\n        this.onRenderFinished = new EventEmitter();\n        // generate a random id for the chart\n        this.id = Math.floor(Math.random() * 1000000000).toString();\n    }\n    BdVerticalBarChartComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        var timeToDebounce = this.bdDeviceService.isIOS() ? 500 : 0;\n        this.bdEventService\n            .onWindowResizeOutsideZone\n            .debounceTime(timeToDebounce)\n            .takeUntil(this.componentDestroyed$)\n            .subscribe(function () {\n            if (_this.d3VerticalBarChart) {\n                if (_this.rendering) {\n                    _this.needsRerender = true;\n                }\n                else {\n                    _this.rerender(false);\n                }\n            }\n        });\n    };\n    BdVerticalBarChartComponent.prototype.ngOnChanges = function (changes) {\n        // don't rerender when rendering is not finished\n        this.positionStrategy = this.selectionType === BdVerticalBarChartSelectionType.BarSelection ? new BdBarTemplatePositionStrategy() : null;\n        if (!this.rendering) {\n            if (this.d3VerticalBarChart) {\n                if (this.onlySelectedDataPointChanged(changes)) {\n                    // the chart already exists and only the selected point has changed so we select it in the chart\n                    this.d3VerticalBarChart.selectDataPoint(changes[this.selectedDataPointPropertyName].currentValue);\n                }\n                else {\n                    // we need to rerender the chart because date, axis config or height has changed\n                    this.rerender(true);\n                }\n            }\n            else {\n                // first time rendering the chart\n                this.renderChart(true);\n            }\n        }\n    };\n    BdVerticalBarChartComponent.prototype.ngOnDestroy = function () {\n        this.componentDestroyed$.next(true);\n        this.componentDestroyed$.complete();\n        this.renderComplete$.next(true);\n        this.renderComplete$.complete();\n        this.chartDestroyed$.next(true);\n        this.chartDestroyed$.complete();\n    };\n    // method to determine if we need to rerender or select a point\n    // method to determine if we need to rerender or select a point\n    BdVerticalBarChartComponent.prototype.onlySelectedDataPointChanged = \n    // method to determine if we need to rerender or select a point\n    function (changes) {\n        var count = 0;\n        var nameFound = false;\n        for (var propName in changes) {\n            count++;\n            nameFound = propName === this.selectedDataPointPropertyName;\n        }\n        return nameFound && count === 1;\n    };\n    BdVerticalBarChartComponent.prototype.renderChart = function (animate) {\n        var _this = this;\n        if (this.data &&\n            this.data.length > 0 &&\n            this.xAxisConfig &&\n            this.yAxisConfig) {\n            this.rendering = true;\n            // make a new D3VerticalBarChart\n            this.d3VerticalBarChart = new BdD3VerticalBarChart(this.chart.nativeElement, this.xAxisConfig, this.yAxisConfig, this.data, this.selectionType, this.id, this.container, animate, this.height);\n            // subscribe to do some actions when rendering is finished\n            this.d3VerticalBarChart.onRenderFinished\n                .takeUntil(this.renderComplete$)\n                .subscribe(function () { return _this.afterRender(); });\n            // render the chart\n            this.d3VerticalBarChart.render();\n        }\n    };\n    BdVerticalBarChartComponent.prototype.afterRender = function () {\n        var _this = this;\n        this.renderComplete$.next(true);\n        if (this.selectionType !== BdVerticalBarChartSelectionType.None) {\n            // selections can be made on the chart, subscribe to get the data point, screen coordinates\n            this.d3VerticalBarChart\n                .verticalBarChartTemplateSubject\n                .takeUntil(this.chartDestroyed$)\n                .subscribe(function (barPositioningData) {\n                // the events for the chart run outside the zone, we only need to run these changes inside the zone to update the template position\n                // the events for the chart run outside the zone, we only need to run these changes inside the zone to update the template position\n                _this.ngZone.run(function () {\n                    // bind the point and its screen coordinates to the template\n                    // bind the point and its screen coordinates to the template\n                    _this.selectedDataPoint = barPositioningData.dataPoint;\n                    _this.positioningData = barPositioningData;\n                    // emit to the outside world that we selected a new point\n                    // emit to the outside world that we selected a new point\n                    _this.selectedDataPointChange.emit(_this.selectedDataPoint);\n                });\n            });\n            // after rendering the chart we can select the datapoint\n            if (this.selectedDataPoint) {\n                this.d3VerticalBarChart.selectDataPoint(this.selectedDataPoint);\n            }\n        }\n        if (!this.needsRerender) {\n            this.rendering = false;\n            // emit an event to the outside world to notify we have finished rendering\n            // after this event we can render again\n            this.onRenderFinished.emit();\n        }\n        else {\n            this.needsRerender = false;\n            this.rerender(false);\n        }\n    };\n    BdVerticalBarChartComponent.prototype.rerender = function (animate) {\n        this.renderComplete$.next(true);\n        this.chartDestroyed$.next(true);\n        this.positioningData = null;\n        this.d3VerticalBarChart.destroy();\n        this.rendering = true;\n        this.renderChart(animate);\n    };\n    BdVerticalBarChartComponent.decorators = [\n        { type: Component, args: [{\n                    selector: 'bd-vertical-bar-chart2',\n                    template: \"<div class=\\\"ng2-c-chart ng2-c-chart--vertical-bar\\\">    <ng-content></ng-content>    <bd-chart-template2 [positionStrategy]=\\\"positionStrategy\\\" [positioningData]=\\\"positioningData\\\">        <ng-content></ng-content>    </bd-chart-template2>    <svg #chart class=\\\"ng2-c-chart__svg\\\"></svg></div>\"\n                },] },\n    ];\n    /** @nocollapse */\n    BdVerticalBarChartComponent.ctorParameters = function () { return [\n        { type: NgZone, },\n        { type: BdEventService, },\n        { type: BdDeviceService, },\n    ]; };\n    BdVerticalBarChartComponent.propDecorators = {\n        \"chart\": [{ type: ViewChild, args: ['chart',] },],\n        \"bdChartTemplate\": [{ type: ViewChild, args: [BdChartTemplateComponent,] },],\n        \"height\": [{ type: Input },],\n        \"data\": [{ type: Input },],\n        \"xAxisConfig\": [{ type: Input },],\n        \"yAxisConfig\": [{ type: Input },],\n        \"selectedDataPoint\": [{ type: Input },],\n        \"container\": [{ type: Input },],\n        \"selectionType\": [{ type: Input },],\n        \"selectedDataPointChange\": [{ type: Output },],\n        \"onRenderFinished\": [{ type: Output },],\n    };\n    return BdVerticalBarChartComponent;\n}());\nexport { BdVerticalBarChartComponent };\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVydGljYWwtYmFyLWNoYXJ0LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyY0lubGluZWQvdmVydGljYWwtYmFyLWNoYXJ0LmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFhLE1BQU0sRUFBaUIsU0FBUyxFQUFFLE1BQU0sRUFBcUIsTUFBTSxlQUFlLENBQUM7QUFDbkosT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUV2QyxPQUFPLEVBQUUsZ0JBQWdCLEVBQXlDLHdCQUF3QixFQUFtQyxNQUFNLHNCQUFzQixDQUFDO0FBQzFKLE9BQU8sRUFBRSxjQUFjLEVBQUUsZUFBZSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFFdEUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0seUNBQXlDLENBQUM7QUFDL0UsT0FBTyxFQUFFLCtCQUErQixFQUFFLE1BQU0sNERBQTRELENBQUM7QUFDN0csT0FBTyxFQUFFLDZCQUE2QixFQUFFLE1BQU0sMERBQTBELENBQUM7QUFHekcsT0FBTyw2QkFBNkIsQ0FBQztBQUNyQyxPQUFPLGdDQUFnQyxDQUFDOztJQWlDcEMscUNBQ1ksTUFBYyxFQUNkLGNBQThCLEVBQzlCLGVBQWdDO1FBRmhDLFdBQU0sR0FBTixNQUFNLENBQVE7UUFDZCxtQkFBYyxHQUFkLGNBQWMsQ0FBZ0I7UUFDOUIsb0JBQWUsR0FBZixlQUFlLENBQWlCO3lCQTdCZixLQUFLOzZCQUNELEtBQUs7K0JBQ00sSUFBSSxPQUFPLEVBQVc7K0JBQ3RCLElBQUksT0FBTyxFQUFXO21DQUNsQixJQUFJLE9BQU8sRUFBVzs2Q0FDYixtQkFBbUI7NkJBZWxCLCtCQUErQixDQUFDLElBQUk7O3VDQUd4QixJQUFJLFlBQVksRUFBc0I7Z0NBQzNELElBQUksWUFBWSxFQUFROztRQVFy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","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { BdChartCoreModule } from '@delen/bd-chart-core';\nimport { BdVerticalBarChartComponent } from './vertical-bar-chart.component';\nvar components = [BdVerticalBarChartComponent];\nvar BdVerticalBarChartModule = /** @class */ (function () {\n    function BdVerticalBarChartModule() {\n    }\n    BdVerticalBarChartModule.decorators = [\n        { type: NgModule, args: [{\n                    imports: [CommonModule, BdChartCoreModule],\n                    declarations: components.slice(),\n                    exports: components\n                },] },\n    ];\n    /** @nocollapse */\n    BdVerticalBarChartModule.ctorParameters = function () { return []; };\n    return BdVerticalBarChartModule;\n}());\nexport { BdVerticalBarChartModule };\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVydGljYWwtYmFyLWNoYXJ0Lm1vZHVsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyY0lubGluZWQvdmVydGljYWwtYmFyLWNoYXJ0Lm1vZHVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUV6QyxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUV6RCxPQUFPLEVBQUUsMkJBQTJCLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUU3RSxJQUFNLFVBQVUsR0FBVSxDQUFDLDJCQUEyQixDQUFDLENBQUM7Ozs7O2dCQUV2RCxRQUFRLFNBQUM7b0JBQ04sT0FBTyxFQUFFLENBQUMsWUFBWSxFQUFFLGlCQUFpQixDQUFDO29CQUMxQyxZQUFZLEVBQU0sVUFBVSxRQUFDO29CQUM3QixPQUFPLEVBQUUsVUFBVTtpQkFDdEI7Ozs7bUNBYkQ7O1NBY2Esd0JBQXdCIn0=","/**\n * Generated bundle index. Do not edit.\n */\nexport * from './vertical-bar-chart';\nexport { BdVerticalBarChartComponent as a } from './vertical-bar-chart.component';\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmNJbmxpbmVkL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUlBLGNBQWMsc0JBQXNCLENBQUM7QUFFckMsT0FBTyxFQUFDLDJCQUEyQixJQUFJLEVBQUUsRUFBQyxNQUFNLGdDQUFnQyxDQUFDIn0="],"names":["this","Subject","__extends","d3.easeCubicOut","min","d3Min","max","d3Max"],"mappings":"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"}